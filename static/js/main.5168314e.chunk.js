(this["webpackJsonpvirtual-date-front"]=this["webpackJsonpvirtual-date-front"]||[]).push([[0],{14:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(9),l=a.n(r),i=(a(14),a(2)),c=a(3),o=a(5),u=a(4),d=(a.p,a(7),a(0)),h=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.forwardEvent,a=e.takenPlayers,n=e.setPlayer;return e.playerName?Object(d.jsx)("p",{children:"Waiting on other player to enter"}):Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{children:"Welcome to your valentine's day date. Who are you?"}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"center-contents",children:[Object(d.jsx)("input",{type:"button",className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink"+(null!==a&&"Hafsa"===a[0]?" o-30":""),onClick:function(){t({event:"player_entered",payload:{name:"Hafsa"}})(),n("Hafsa")},disabled:null!==a&&"Hafsa"===a[0],value:"Hafsa"}),Object(d.jsx)("input",{type:"button",className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink"+(null!==a&&"GJ"===a[0]?" o-30":""),onClick:function(){t({event:"player_entered",payload:{name:"GJ"}})(),n("GJ")},disabled:null!==a&&"GJ"===a[0],value:"GJ"})]})]})}}]),a}(s.a.Component),p=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.players,a=e.score,n=e.stage;return["player_entry","punishment_entry","game_entry","dare_entry","resetting"].includes(n)?Object(d.jsx)("div",{}):Object(d.jsxs)("div",{className:"flex justify-around",children:[Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsx)("h1",{className:"f1 mb0",children:a[0]}),Object(d.jsx)("h3",{className:"f4 mt1",children:t[0]})]}),Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsx)("h1",{className:"f1 mb0",children:a[1]}),Object(d.jsx)("h3",{className:"f4 mt1",children:t[1]})]})]})}}]),a}(s.a.Component),m=a(6),b=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({value:e.target.value})},n.handleSubmit=function(e){console.log("punish_entered"),n.props.forwardEvent({event:"punish_entered",payload:{name:n.props.playerName,punishment:n.state.value}})(),e.preventDefault()},n.state={value:""},n.stageName="punishment_entry",n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState;e.forwardEvent;if(a.stage!==this.stageName)return null;var n=Object(d.jsxs)("form",{className:"flex flex-column justify-around items-center",onSubmit:this.handleSubmit,children:[Object(d.jsxs)("label",{className:"f6 b db mb2",for:"punishment",children:["Set your opponent's punishment should they lose:",Object(d.jsx)("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100 o-60 bg-pink mt3",type:"text",id:"punishment",name:"punishment",value:this.state.value,onChange:this.handleChange}),Object(d.jsx)("br",{})]}),Object(d.jsx)("div",{className:"center-contents mt3",children:Object(d.jsx)("input",{type:"submit",value:"Submit",className:"f6 grow no-underline br-pill ba bw2 ph3 pv2 mb2 dib hot-pink b--hot-pink",disabled:!this.state.value.length})})]});return null!==a.readyPlayer?(console.log("readyPlayer",a.readyPlayer,"playerName",t),a.readyPlayer===t?Object(d.jsx)("div",{className:"flex justify-center",children:Object(d.jsx)("p",{children:"Waiting on that slowpoke to finish entering your punishment. Probably gonna be spicy though."})}):Object(d.jsxs)("div",{children:[Object(d.jsxs)("p",{className:"flex justify-center",children:["Quit being a slowpoke. ",a.readyPlayer," is waiting on you to finish entering."]}),n]})):n}}]),a}(s.a.Component),j=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).stageName="game_entry",n.handleChange=function(e){n.setState({value:e.target.value})},n.handleSubmit=function(e){n.state.value&&n.props.forwardEvent({event:"game_entered",payload:{challenge:n.state.value}})(),n.setState({value:""}),e.preventDefault()},n.state={value:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState,n=e.forwardEvent;if(a.stage!==this.stageName)return null;var s=Object(d.jsx)("div",{className:"w-60",children:Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsxs)("div",{className:"flex justify-center",children:[Object(d.jsx)("label",{className:"f6 b db mb2",for:"gameInput",children:"Enter at least 11 games (in total) you and your date should play:"}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100 o-60 bg-pink",type:"text",id:"gameInput",name:"gameInput",value:this.state.value,onChange:this.handleChange}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"flex justify-between mt4",children:[Object(d.jsx)("input",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink"+(this.state.value.length?"":" o-40"),type:"submit",value:"Submit Game",disabled:!this.state.value.length}),Object(d.jsx)("button",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink"+(a.challenges.length<11?" o-40":""),onClick:n({event:"player_ready",payload:{name:t}}),disabled:a.challenges.length<11,children:"Done Submitting"})]})]})}),r=Object(d.jsx)("ul",{className:"w-35 list pl0",children:Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[a.challenges.length?Object(d.jsxs)("h1",{children:["Submitted Challenges (",a.challenges.length,")"]}):null,a.challenges.map((function(e){return Object(d.jsx)("li",{children:e})}))]})});return a.readyPlayer?a.readyPlayer===t?Object(d.jsxs)("div",{className:"flex flex-column items-center justify-around",children:[Object(d.jsx)("p",{children:"I'm so sorry you gotta wait for this person. On Valentine's day too ?? Chile ..."}),r]}):Object(d.jsxs)("div",{className:"flex flex-column items-center justify-around",children:[Object(d.jsxs)("p",{children:["Quit being a slowpoke. ",a.readyPlayer," is waiting on you to finish entering."]}),Object(d.jsxs)("div",{className:"flex justify-around items-center",children:[s,r]})]}):Object(d.jsxs)("div",{className:"flex justify-around items-center",children:[s,r]})}}]),a}(s.a.Component),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).stageName="dare_entry",n.handleChange=function(e){n.setState({value:e.target.value})},n.handleSubmit=function(e){n.state.value&&n.props.forwardEvent({event:"dare_entered",payload:{dare:n.state.value}})(),n.setState({value:""}),e.preventDefault()},n.state={value:""},n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState,n=e.forwardEvent;if(a.stage!==this.stageName)return null;var s=Object(d.jsx)("div",{className:"w-60",children:Object(d.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(d.jsxs)("div",{className:"flex justify-center",children:[Object(d.jsx)("label",{className:"f6 b db mb2",for:"dareInput",children:"Input at least 11 dares (in total) you're ready to see your date (and potentially yourself) do: "}),Object(d.jsx)("br",{}),Object(d.jsx)("input",{className:"input-reset ba b--black-20 pa2 mb2 db w-100 o-60 bg-pink",type:"text",id:"dareInput",name:"dareInput",value:this.state.value,onChange:this.handleChange}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"flex justify-between mt4",children:[Object(d.jsx)("input",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",type:"submit",value:"Submit",disabled:!this.state.value.length}),Object(d.jsx)("button",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",onClick:n({event:"player_ready",payload:{name:t}}),disabled:a.dares.length<11,children:"Done Submitting"})]})]})}),r=Object(d.jsx)("ul",{className:"w-35 list pl0",children:Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[a.dares.length?Object(d.jsxs)("h1",{children:["Submitted Dares (",a.dares.length,")"]}):null,a.dares.map((function(e){return Object(d.jsx)("li",{children:e})}))]})});return a.readyPlayer?a.readyPlayer===t?Object(d.jsxs)("div",{className:"flex flex-column items-center justify-around",children:[Object(d.jsx)("p",{children:"Damn, can you let them know they can finish anyday now ???"}),r]}):Object(d.jsxs)("div",{className:"flex flex-column items-center justify-around",children:[Object(d.jsxs)("p",{children:["Like today? ",a.readyPlayer," BEEN done."]}),Object(d.jsxs)("div",{className:"flex justify-around items-center",children:[s,r]})]}):Object(d.jsxs)("div",{className:"flex justify-around items-center",children:[s,r]})}}]),a}(s.a.Component),v=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).stageName="picking_game",n.shuffleGames=function(e){var t=n.props.gameState.challenges;n.setState({challengeSelected:t[Math.floor(Math.random()*t.length)]}),e.preventDefault()},n.submitChoice=function(e){n.props.forwardEvent({event:"game_picked",payload:{name:n.props.playerName,challenge:n.state.challengeSelected}})(),n.setState({challengeSelected:null}),e.preventDefault()},n.state={challengeSelected:null},n.shuffleGames=n.shuffleGames.bind(Object(m.a)(n)),n.submitChoice=n.submitChoice.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState;e.forwardEvent;return a.stage!==this.stageName?null:a.turn===t?this.state.challengeSelected?Object(d.jsxs)("form",{className:"flex flex-column justify-center items-center",onSubmit:this.submitChoice,children:[Object(d.jsxs)("p",{children:["You selected: ",this.state.challengeSelected]}),Object(d.jsx)("input",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",type:"submit",value:"Continue"})]}):Object(d.jsxs)("form",{className:"flex flex-column justify-center items-center",onSubmit:this.shuffleGames,children:[Object(d.jsx)("label",{children:"Spin for game you and your date will play by clicking but (or pressing Enter)"}),Object(d.jsx)("input",{className:"mt2 f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",type:"submit",value:"Spin For Game"})]}):Object(d.jsx)("div",{className:"flex justify-center",children:Object(d.jsxs)("p",{children:[a.turn," is choosing the challenge."]})})}}]),a}(s.a.Component),y=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).stageName="playing_game",e.hafsaEvent={event:"game_played",payload:{name:"Hafsa"}},e.gjEvent={event:"game_played",payload:{name:"GJ"}},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.playerName,e.gameState),a=e.forwardEvent;return t.stage!==this.stageName?null:Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsxs)("p",{children:["You will now play ",t.currentChallenge]}),Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsx)("p",{children:"Who won?"}),Object(d.jsxs)("div",{className:"flex justify-between",children:[Object(d.jsx)("button",{className:"pv3 ph4 ma3 f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",onClick:a(this.hafsaEvent),children:"Hafsa"}),Object(d.jsx)("button",{className:"pv3 ph4 ma3 f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",onClick:a(this.gjEvent),children:"GJ"})]})]})]})}}]),a}(s.a.Component),g=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).stageName="picking_dare",n.shuffleDares=function(e){var t=n.props.gameState.dares;n.setState({dareSelected:t[Math.floor(Math.random()*t.length)]}),e.preventDefault()},n.submitChoice=function(e){n.props.forwardEvent({event:"dare_picked",payload:{name:n.props.playerName,dare:n.state.dareSelected}})(),n.setState({dareSelected:null}),e.preventDefault()},n.state={dareSelected:null},n.shuffleDares=n.shuffleDares.bind(Object(m.a)(n)),n.submitChoice=n.submitChoice.bind(Object(m.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState;e.forwardEvent;return a.stage!==this.stageName?null:a.daree===t?this.state.dareSelected?Object(d.jsxs)("form",{className:"flex flex-column justify-center items-center",onSubmit:this.submitChoice,children:[Object(d.jsxs)("p",{children:["You selected: ",this.state.dareSelected]}),Object(d.jsx)("input",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink mt2",type:"submit",value:"Continue"})]}):Object(d.jsxs)("form",{className:"flex flex-column justify-center items-center",onSubmit:this.shuffleDares,children:[Object(d.jsx)("label",{children:"Spin for dare you will perform for your date's pleasure by clicking but (or pressing Enter)"}),Object(d.jsx)("input",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink mt2",type:"submit",value:"Spin For Dare"})]}):Object(d.jsx)("div",{className:"flex flex-column justify-center items-center",children:Object(d.jsxs)("p",{children:[a.daree," is choosing the dare to perform for your enjoyment."]})})}}]),a}(s.a.Component),O=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).stageName="doing_dare",e.hafsaEvent={event:"dare_performed",payload:{name:"Hafsa"}},e.gjEvent={event:"dare_performed",payload:{name:"GJ"}},e.eventsByName={Hafsa:e.hafsaEvent,GJ:e.gjEvent},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState,n=e.forwardEvent;return a.stage!==this.stageName?null:a.daree===t?Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsxs)("p",{children:["Since you lost the last challenge, please ",a.currentDare," for your date :)"]}),Object(d.jsx)("p",{children:"They'll move the game along when they feel you've done it properly."})]}):Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsxs)("p",{children:[a.daree," will now ",a.currentDare," as a dare for you."]}),Object(d.jsx)("p",{children:'Please enjoy and click "Continue" when satisfied'}),Object(d.jsx)("button",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",onClick:n(this.eventsByName[a.daree]),children:"Continue"})]})}}]),a}(s.a.Component),x=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).stageName="over",e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.playerName,a=e.gameState,n=e.forwardEvent;return a.stage!==this.stageName?null:a.winner==t?Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsxs)("p",{children:["Congrats on winning ",t,". Always knew you were capable of dusting them. Didn't doubt you for a second."]}),Object(d.jsx)("p",{children:"Now your date must undergo the punishment you set at the beginning of the game:"}),Object(d.jsx)("p",{className:"f1",children:a.currentDare}),Object(d.jsx)("button",{className:"f6 grow no-underline br-pill pa5 pv2 ma3 dib white bg-hot-pink b--hot-pink",onClick:n({event:"reset"}),children:"End Game"})]}):Object(d.jsxs)("div",{className:"flex flex-column justify-center items-center",children:[Object(d.jsxs)("p",{children:["Hahaha! You lost. Better luck next time. In the meantime, here's the punishment ",a.winner," set for you."]}),Object(d.jsx)("p",{className:"f1",children:a.currentDare})]})}}]),a}(s.a.Component),N=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return this.props.gameState&&"resetting"===this.props.gameState.stage?(this.props.wipeState(),Object(d.jsx)("div",{className:"flex justify-center items-center",children:Object(d.jsx)("p",{className:"h1",children:"Other player disconnected. Restarting the game shortly"})})):null}}]),a}(s.a.Component),w=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props,t=e.gameState,a=(e.playerName,e.forwardEvent,e.wipeState),n=e.resetGame;return Object(d.jsxs)("div",{className:"h-100 w-100 ph2 flex flex-column justify-around",children:[Object(d.jsx)(p,{players:t.players,score:t.score,stage:t.stage}),Object(d.jsx)(b,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(j,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(f,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(v,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(y,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(g,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(O,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(x,{playerName:this.props.playerName,gameState:this.props.gameState,forwardEvent:this.props.forwardEvent}),Object(d.jsx)(N,{wipeState:a,gameState:t}),Object(d.jsx)("div",{className:"flex justify-center pt5",children:Object(d.jsx)("button",{onClick:n,children:"Reset Game"})})]})}}]),a}(s.a.Component),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).ws=new WebSocket("wss://virtual-date-api.herokuapp.com/"),e.forwardEvent=function(t){return function(){e.ws.send(JSON.stringify(t))}},e.setPlayer=function(t){e.setState({playerName:t})},e.resetGame=function(){e.forwardEvent({event:"reset"})(),e.wipeState()},e.wipeState=function(){e.setState({playerName:null,gameState:null})},e.state={playerName:null,gameState:null},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.ws.onopen=function(){console.log("connected")},this.ws.onmessage=function(t){e.setState({gameState:JSON.parse(t.data)}),console.log(t.data)},this.ws.onclose=function(){console.log("disconnected")}}},{key:"render",value:function(){var e=this.state,t=e.playerName,a=e.gameState,n=e.resetGame;return console.log(a),a?"player_entry"===a.stage?Object(d.jsx)("div",{className:"canvas-div",children:Object(d.jsx)(h,{forwardEvent:this.forwardEvent,takenPlayers:a&&a.players,setPlayer:this.setPlayer,playerName:t})}):Object(d.jsx)("div",{className:"canvas-div",children:Object(d.jsx)(w,{gameState:a,reset:n,playerName:t,forwardEvent:this.forwardEvent,wipeState:this.wipeState})}):Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:"Loading Game"})})}}]),a}(s.a.Component),k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,l=t.getTTFB;a(e),n(e),s(e),r(e),l(e)}))};a(16);l.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root")),k()},7:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.5168314e.chunk.js.map